import{a as S}from"./chunk-7QLNNFJM.js";import{a as V}from"./chunk-2LEHSMYE.js";import{d as M,e as L,p as b,t as h}from"./chunk-XJFT56VC.js";import{Da as P,Ha as k,Ma as u,Sa as g,Za as n,_a as r,aa as p,ab as w,ba as m,bb as I,cb as v,fb as f,gb as s,ja as y,nb as O,ob as c,pb as x,qb as C,wb as F,xb as E,ya as d,zb as T}from"./chunk-IDPMWJG7.js";function N(t,i){if(t&1){let e=v();w(0),n(1,"app-classic-button",9),f("click",function(){p(e);let o=s().$implicit,l=s();return m(l.addFriend.emit(o._id))}),c(2),F(3,"translate"),r(),I()}t&2&&(d(2),C(" ",E(3,1,"profile.addFriend")," "))}function U(t,i){t&1&&(n(0,"div",10),c(1),F(2,"translate"),r()),t&2&&(d(),C(" \u2705 ",E(2,1,"profile.alreadyAdded")," "))}function A(t,i){if(t&1){let e=v();n(0,"div",3)(1,"app-avatar",4),f("click",function(o){let l=p(e).$implicit,_=s();return m(_.handleGoToProfile(o,l))}),r(),n(2,"div",5),f("click",function(o){let l=p(e).$implicit,_=s();return m(_.handleGoToProfile(o,l))}),n(3,"p",6),c(4),r(),n(5,"p",7),c(6),r()(),u(7,N,4,3,"ng-container",8)(8,U,3,3,"ng-template",null,0,T),r()}if(t&2){let e=i.$implicit,a=O(9),o=s();d(4),x(e.username),d(2),x(e.email),d(),g("ngIf",!o.isAlreadyFriend(e))("ngIfElse",a)}}var B=class t{constructor(i){this.router=i}friends=[];addedFriends=[];addFriend=new y;handleGoToProfile(i,e){if(!e._id){console.error("\u274C No se puede navegar: friend._id es undefined",e);return}i.stopPropagation(),this.router.navigate(["/main/profile",e._id])}isAlreadyFriend(i){return this.addedFriends.some(e=>e._id===i._id)}static \u0275fac=function(e){return new(e||t)(P(b))};static \u0275cmp=k({type:t,selectors:[["app-friend-list"]],inputs:{friends:"friends",addedFriends:"addedFriends"},outputs:{addFriend:"addFriend"},decls:2,vars:1,consts:[["addedBlock",""],[1,"friend-list-container"],["class","friend-card",4,"ngFor","ngForOf"],[1,"friend-card"],[3,"click"],[1,"friend-info",3,"click"],[1,"username"],[1,"email"],[4,"ngIf","ngIfElse"],["size","small",3,"click"],[1,"added-info"]],template:function(e,a){e&1&&(n(0,"div",1),u(1,A,10,4,"div",2),r()),e&2&&(d(),g("ngForOf",a.friends))},dependencies:[V,M,S,h,L],styles:[".friend-list-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1rem}.friend-card[_ngcontent-%COMP%]{display:flex;align-items:center;justify-content:space-between;background-color:var(--color-secondary);padding:.75rem 1rem;border-radius:10px}.friend-info[_ngcontent-%COMP%]{flex:1;margin-left:1rem}.friend-info[_ngcontent-%COMP%]   .username[_ngcontent-%COMP%]{font-weight:600;color:var(--color-pure2);margin:0}.friend-info[_ngcontent-%COMP%]   .email[_ngcontent-%COMP%]{font-size:.9rem;color:var(--muted);margin:2px 0 0}"]})};export{B as a};
