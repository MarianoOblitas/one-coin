import{a as E}from"./chunk-I5FS3M5K.js";import{a as V}from"./chunk-2LEHSMYE.js";import{d as L,f as S,p as M}from"./chunk-XJFT56VC.js";import{$a as v,Da as P,Ha as C,Ma as k,Sa as h,Za as i,_a as s,aa as a,ba as l,cb as w,fb as p,gb as m,ja as x,ob as d,pb as f,qb as g,wb as T,ya as c,yb as y}from"./chunk-IDPMWJG7.js";function b(_,o){if(_&1){let e=w();i(0,"div",2)(1,"div",3),p("click",function(){let t=a(e).$implicit,r=m();return l(r.handleGoToPost(t))}),i(2,"app-avatar",4),p("click",function(t){let r=a(e).$implicit,u=m();return l(u.handleGoToProfile(t,r))}),s(),i(3,"div",5),p("click",function(t){let r=a(e).$implicit,u=m();return l(u.handleGoToProfile(t,r))}),i(4,"p",6),d(5),s(),i(6,"div",7)(7,"span",8),d(8),s(),i(9,"span",9),d(10,"\u2022"),s(),i(11,"span",10),d(12),T(13,"date"),s()()()(),i(14,"div",11),p("click",function(){let t=a(e).$implicit,r=m();return l(r.handleGoToPost(t))}),d(15),s(),i(16,"div",12),p("click",function(){let t=a(e).$implicit,r=m();return l(r.handleGoToPost(t))}),i(17,"div",13),p("click",function(t){let r=a(e).$implicit,u=m();return l(u.handleLikeClick(t,r))}),v(18,"app-icon-button",14),i(19,"span"),d(20),s()(),i(21,"div",15),p("click",function(t){a(e);let r=m();return l(r.handleStopPropagation(t))}),v(22,"app-icon-button",16),i(23,"span"),d(24),s()()()()}if(_&2){let e,n,t=o.$implicit;c(5),f((t.author==null?null:t.author.username)||"Usuario desconocido"),c(3),f((t.author==null?null:t.author.email)||"email@example.com"),c(4),g(" ",t.createdAt?y(13,6,t.createdAt,"shortDate"):"Fecha desconocida"," "),c(3),g(" ",t.content," "),c(5),f((e=t.likesCount)!==null&&e!==void 0?e:0),c(4),f((n=t.commentsCount)!==null&&n!==void 0?n:0)}}var O=class _{constructor(o){this.router=o}posts=[];commentsLength=0;likeToggled=new x;handleGoToPost(o){if(!o._id){console.error("\u274C No se puede navegar: post.id es undefined",o);return}this.router.navigate(["/main/post",o._id])}handleGoToProfile(o,e){let n=e.author._id;if(!n){console.error("\u274C No se puede navegar: post.author._id es undefined",e);return}o.stopPropagation(),this.router.navigate(["/main/profile",n])}handleStopPropagation(o){o.stopPropagation()}handleLikeClick(o,e){o.stopPropagation(),this.likeToggled.emit(e)}static \u0275fac=function(e){return new(e||_)(P(M))};static \u0275cmp=C({type:_,selectors:[["app-post-list"]],inputs:{posts:"posts",commentsLength:"commentsLength"},outputs:{likeToggled:"likeToggled"},decls:2,vars:1,consts:[[1,"posts-wrapper"],["class","post-container",4,"ngFor","ngForOf"],[1,"post-container"],[1,"post-header",3,"click"],[3,"click"],[1,"post-info",3,"click"],[1,"username"],[1,"metadata"],[1,"email"],[1,"dot"],[1,"date"],[1,"post-content",3,"click"],[1,"post-footer",3,"click"],[1,"action-button","like-btn",3,"click"],["type","heart"],[1,"action-button","comment-btn",3,"click"],["type","comment"]],template:function(e,n){e&1&&(i(0,"div",0),k(1,b,25,9,"div",1),s()),e&2&&(c(),h("ngForOf",n.posts))},dependencies:[L,S,V,E],styles:[".posts-wrapper[_ngcontent-%COMP%]{display:flex;flex-direction:column-reverse}.post-container[_ngcontent-%COMP%]{background-color:var(--color-secondary);color:var(--color-pure2);padding:1rem;margin-bottom:1rem;border-bottom:1px solid var(--color-primary);display:flex;flex-direction:column;gap:.8rem}.post-header[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem}.post-info[_ngcontent-%COMP%]{display:flex;flex-direction:column;cursor:pointer}.username[_ngcontent-%COMP%]{font-weight:600;font-size:1rem;margin:0}.metadata[_ngcontent-%COMP%]{font-size:.85rem;color:var(--muted);display:flex;gap:.5rem}.dot[_ngcontent-%COMP%]{font-weight:700}.post-content[_ngcontent-%COMP%]{font-size:1rem;color:var(--color-pure2)}.post-footer[_ngcontent-%COMP%]{display:flex;gap:2rem;align-items:center}.action-button[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.1rem;cursor:pointer;font-size:.95rem;color:var(--muted)}"]})};export{O as a};
